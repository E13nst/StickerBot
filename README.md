# StickerBot

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ç–æ–∫

### –°—Ç–∞—Ä—Ç
- `/start` –æ—á–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±–æ—Ä:
  - `–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–∏–∫–µ—Ä—Å–µ—Ç`
  - `–î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π`
  - `–£–ø—Ä–∞–≤–ª—è—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π`

`/cancel` –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç: –æ—á–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –¥–∏–∞–ª–æ–≥.

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–∏–∫–µ—Ä—Å–µ—Ç
1. **–ù–∞–∑–≤–∞–Ω–∏–µ** ‚Äì –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.
2. **–ü–µ—Ä–≤—ã–π —Å—Ç–∏–∫–µ—Ä** ‚Äì –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª (PNG/JPG/WebP), –±–æ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ WebP.
3. **–≠–º–æ–¥–∑–∏** ‚Äì —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏ —Å–æ —Å—Ç–∏–∫–µ—Ä–æ–º.
4. **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ** ‚Äì —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∏–¥–∞ ¬´–°—Ç–∏–∫–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω‚Ä¶ –æ—Ç–ø—Ä–∞–≤—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∞–π–ª –∏–ª–∏ –Ω–∞–∂–º–∏ ‚Äú–ì–æ—Ç–æ–≤–æ‚Äù¬ª.
   - –ü—Ä–∏ —Ñ–∞–π–ª–µ ‚Üí —à–∞–≥–∏ 2‚Äì3.
5. **–ì–æ—Ç–æ–≤–æ** ‚Äì –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è (–ª–∞—Ç–∏–Ω–∏—Ü–∞/—Ü–∏—Ñ—Ä—ã/`_`), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å,
   —Å–æ–∑–¥–∞—ë—Ç –Ω–∞–±–æ—Ä (`createNewStickerSet`), –¥–æ–∫–∏–¥—ã–≤–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É.
6. **–§–∏–Ω–∞–ª** ‚Äì —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π `https://t.me/addstickers/<name>` –∏ –æ—Ç–º–µ—Ç–∫–æ–π –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –≥–∞–ª–µ—Ä–µ—é (–µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ).
7. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è** ‚Äì –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä –≤ –≥–∞–ª–µ—Ä–µ–µ (`/internal/stickersets/{id}/publish`). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç ¬´–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å¬ª –∏–ª–∏ ¬´–û—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º¬ª.

### –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
1. **–í—ã–±–æ—Ä –Ω–∞–±–æ—Ä–∞** ‚Äì –±–æ—Ç –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –Ω–∞–±–æ—Ä—ã –∞–≤—Ç–æ—Ä–∞ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏:
   - inline-–∫–Ω–æ–ø–∫–∏ –ø–æ 10 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –ø–∞–≥–∏–Ω–∞—Ü–∏—è `‚¨ÖÔ∏è –ù–∞–∑–∞–¥ / ‚û°Ô∏è –í–ø–µ—Ä–µ–¥`, `‚õîÔ∏è –û—Ç–º–µ–Ω–∞`;
   - –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã, –≤–µ–¥—É—â–∏–µ –Ω–∞ `https://t.me/addstickers/<name>` (–∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–µ `url`, –µ—Å–ª–∏ –µ—Å—Ç—å).
2. **–°—Ç–∏–∫–µ—Ä** ‚Äì –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –±–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å—Å—ã–ª–∫–æ–π –∏ –ø—Ä–æ—Å–∏—Ç —Ñ–∞–π–ª.
3. **–≠–º–æ–¥–∑–∏** ‚Äì —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏ —Å–æ —Å—Ç–∏–∫–µ—Ä–æ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ `addStickerToSet`.
4. **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ** ‚Äì —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–°—Ç–∏–∫–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω‚Ä¶ –æ—Ç–ø—Ä–∞–≤—å –µ—â—ë —Ñ–∞–π–ª –∏–ª–∏ –Ω–∞–∂–º–∏ ‚Äú–ì–æ—Ç–æ–≤–æ‚Äù¬ª.
   - –ü—Ä–∏ —Ñ–∞–π–ª–µ ‚Üí —à–∞–≥–∏ 2‚Äì3.
5. **–ì–æ—Ç–æ–≤–æ** ‚Äì –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏ –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ `/start`.

### –£–ø—Ä–∞–≤–ª—è—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
1. **–°–ø–∏—Å–æ–∫ –Ω–∞–±–æ—Ä–æ–≤** ‚Äì –±–æ—Ç –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –Ω–∞–±–æ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ 10 —à—Ç. –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å:
   - üåê ‚Äî –Ω–∞–±–æ—Ä –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –≥–∞–ª–µ—Ä–µ–µ;
   - üîí ‚Äî –Ω–∞–±–æ—Ä –ø—Ä–∏–≤–∞—Ç–Ω—ã–π.
2. **–í—ã–±–æ—Ä** ‚Äì –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç ¬´–°–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏¬ª (`/internal/stickersets/{id}/unpublish`) –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É.
3. **–°–Ω—è—Ç–∏–µ —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏** ‚Äì –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.
4. **–û—Ç–º–µ–Ω–∞** ‚Äì –∫–Ω–æ–ø–∫–∞ `‚õîÔ∏è –û—Ç–º–µ–Ω–∞` –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –∏ –æ—á–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- –í—Å–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã Telegram API –∏ –≥–∞–ª–µ—Ä–µ–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ (`asyncio.to_thread`).
- `context.user_data` —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é; –æ—á–∏—â–∞–µ—Ç—Å—è –Ω–∞ `/start`, `cancel` –∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ `ImageProcessor.convert_to_webp`.
- –õ–∏–Ω–∫–∏ –Ω–∞ –Ω–∞–±–æ—Ä—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã –≤ HTML-—Ñ–æ—Ä–º–∞—Ç–µ, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `logs/bot.log`.
